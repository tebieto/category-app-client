dist: trusty
sudo: false
language: node_js
node_js:
- '8'
addons:
  apt:
    sources:
    - google-chrome
    packages:
    - google-chrome-stable
cache:
  directories:
  - "./node_modules"
install:
- npm install
deploy:
  provider: pages
  skip_cleanup: true
  github_token: "$GITHUB_TOKEN"
  keep_history: true
  on:
    branch: master
script:
- npm run test -- --watch=false --no-progress --browsers=ChromeHeadlessNoSandbox
- ng e2e --protractor-config='e2e/ci.protractor.conf.js'
after_script:
- cat ./coverage/*/lcov.info | ./node_modules/coveralls/bin/coveralls.js
env:
  global:
    secure: WXvEfeMd2sJ3rNVMjSUCLFoKaSo5doJX8dCKccuols6yEdSh9U0GDXgvJwuT8cKCYeIGHM1tUbIrE1tLC5WN0FqBcF4Gj309J1PXgcYuBIeC5c0aNv6Tw1oBA0GuUrnawgbNpHEeDT+yO3J4hYmkuI5HLB7c+O98mFIe6XKA2Z01wKL5CzAt152mvj+f9f5Afw4P36NQSo4kCUS5IcWER9yoeBWNWha3H/RTlLt2AoAVzz+2LHC3UD/agtvdnFxWv8afRsj8T5xTDzy8DbT/5ROVwX04f/rgEtbUrB8WaArDemlb0oMCjO0EzDEWyO1jNprWI1EyOyjL53MDBPYLteYNh6ETVgvd2G37DxOyDsvXpQt1tV4E+lyGoE6Pvl6FLFXOaSo/f6uWeCpdYNEV3X/BNGWIXjNxR5eJlztzqGquVy1m/kswRVGv+KG75REi9njO1J4E7igDWaITRfMExxN46WMCtv2Xw5xqZfUfcVn/GjFGW3IZI0ufHyxBvn9yGQZeao3wDqnTiPxbZEaPiplqdpSw5WgvDHGdNsCsoORuV6WeNN713mhK1ifG1w4aVitSGLjI30RTKjf3JSLFE6uiztPC6n8f2Qhs2/z99euzikP6NHxKyeZct+Qm12D8VJfnuJ4R613D7qQSHOciGEGO1SFSEyu1lJV2IfpQfL8=
