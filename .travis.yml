dist: trusty
sudo: false
language: node_js
node_js:
- '8'
addons:
  apt:
    sources:
    - google-chrome
    packages:
    - google-chrome-stable
cache:
  directories:
  - "./node_modules"
install:
- npm install
before_script:
- npm update
- npm install -g @angular/cli
- ng build --prod
script:
- npm run test -- --watch=false --no-progress --browsers=ChromeHeadlessNoSandbox
- npm run ci-e2e
after_script:
- cat ./coverage/*/lcov.info | ./node_modules/coveralls/bin/coveralls.js
deploy:
  provider: heroku
  api_key:
    secure: HoJ/C+zFC1nc5FwXf42erPbxG0Nw5JgYKmA+uS9HTXMwY7H/Aaw2RDegwS4ny201AaCckK14A04gNd6Us50qG3bj/CBnNNeY4dQInc7xAbHVIEWH+WzKRqLUw44xN24K/OL9PE+yAAB3FEpVYXTcHIHVpuEBNX6J1fE/meUYug9S8Sj6IJJT6Hditq9u+gHpQ54jUEAFWM33HngQuMBPvpXdGio/tS/2TnO02qsft0PMSBmVK63GS09cGPVKObvqW0l6vP1yci0j/hZ1iF9j595D1AumbJqeQ6IUYNOJSIVhHQ2Xf5jasd2mC8Ek011eBo9o7j5l7b1DQXPnvzhNYfyHI5WSgzE7lbDUwkKdeaTemlpyRwqF092KwHAHhvAkSMPRCQop49AnWl3k6IXxdP3ChS3QjRjKQAP+JOAhCoQ/8X6QMAQYN1DK/JAKuvAldHhE7yEtwJ3mpiQGjaJgExVX9qiyU3RSyW6TCJY9VYpa8YbZ2e0ayglkuoSWkw+ZWIzf8LSv9fKvCNoHchH/2u1lfb2AXJPh3zhUWsjlzNpfRzkHKu7urDXFTjxV0nPxSku5pfh2Qr2Cf7aCwaUA5+jQ2WSRD00OkjQgPsjvwnVi532JZ82RmqY6CWBiF6QjKivgNMH3N1VwEfrAIab9lsRXbJwqx387WhtV6CsnvfM=
  on:
    all_branches: true
